[program:uwsgi]
command=/opt/conda/bin/uwsgi
  --enable-threads
  --vacuum
  --chdir /opt/labmanager-service-labbook
  --socket /tmp/labmanager.sock
  --socket-timeout=600
  --processes=4
  --chmod-socket=666
  -w service:app
  --master
directory=/opt/labmanager-service-labbook
autostart=true
autorestart=true
priority=999
stopsignal=INT

[program:redis]
command=/usr/bin/redis-server /opt/redis/redis.conf
autostart=true
autorestart=true

[program:rq-worker]
command=/opt/conda/bin/python /opt/labmanager-common/lmcommon/dispatcher/worker.py 15
autostart=true
autorestart=true

[program:rqscheduler]
command=/opt/conda/bin/rqscheduler --interval=2
autostart=true
autorestart=true

[program:nginx]
command=/usr/sbin/nginx -g "daemon off;"
autostart=true
autorestart=true

[program:elasticsearch] 
command=/usr/share/elasticsearch/bin/elasticsearch -Epath.conf=/etc/elasticsearch 
autostart=true 
autorestart=true

priority=999
